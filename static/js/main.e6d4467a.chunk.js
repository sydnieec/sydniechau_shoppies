(this.webpackJsonpsydniechau_shoppies=this.webpackJsonpsydniechau_shoppies||[]).push([[0],{33:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(0),a=n.n(s),r=n(26),o=n.n(r),c=(n(33),n(8)),l=n(9),d=n(11),h=n(10),u=n(7),j=n(12),p=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Search Results"}),this.props.searchedMovieList.map((function(e){return Object(i.jsx)(b,{onNominate:t.props.onNominate,searchedMovie:e,currentIdList:t.props.currentIdList},e.id)}))]})}}]),n}(s.Component),b=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t,e=this;return t=this.props.currentIdList.includes(this.props.searchedMovie.id)||this.props.currentIdList.length>=5?Object(i.jsx)(m,{}):Object(i.jsx)("button",{onClick:function(){return e.props.onNominate(e.props.searchedMovie.name,e.props.searchedMovie.year,e.props.searchedMovie.id)},className:"btn btn-success btn-sm m-2",children:"Nominate"}),Object(i.jsxs)("div",{class:"d-flex justify-content-between",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("span",{style:{fontsize:30},children:[this.props.searchedMovie.name," - ",this.props.searchedMovie.year]})}),Object(i.jsx)("div",{children:t})]})}}]),n}(s.Component);function m(t){return Object(i.jsx)("button",{type:"button",class:"btn btn-secondary btn-sm m-2",disabled:!0,children:"Nominate"})}var v=n(16),f=n.n(v),O=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Nominations"}),this.props.nominationsList.map((function(e){return Object(i.jsx)(L,{onDelete:t.props.onDelete,nominatedMovie:e},e.id)}))]})}}]),n}(s.Component),L=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{class:"d-flex justify-content-between",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("span",{style:{fontsize:30},children:[this.props.nominatedMovie.name," , ",this.props.nominatedMovie.year,","," ",this.props.nominatedMovie.id]})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:function(){return t.props.onDelete(t.props.nominatedMovie.id)},className:"btn btn-danger btn-sm m-2",children:"Remove"})})]})}}]),n}(s.Component),g=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={searchedMovieList:[],nominationsList:[],currentIdList:[],searchField:"",visited:!1,url:"https://www.omdbapi.com/?apikey=f7b87fd5&s="},t.addurl=function(e){f.a.get(t.state.url+e).then((function(e){for(var n=[],i=0;i<e.data.Search.length;i++)n.push({id:e.data.Search[i].imdbID,name:e.data.Search[i].Title,year:e.data.Search[i].Year});t.setState({searchedMovieList:n})})).catch((function(t){console.log(t),alert(t)}))},t.handleSubmit=function(e){t.addurl(t.state.searchField),e.preventDefault(),t.setState({searchField:""})},t.handleChange=function(e){t.setState({searchField:e.target.value})},t.handleDelete=function(e){var n=t.state.nominationsList.filter((function(t){return t.id!==e})),i=t.state.currentIdList.filter((function(t){return t!==e})),s=JSON.stringify(i),a=JSON.stringify(n);localStorage.setItem("localcurrentIdList",s),localStorage.setItem("localnominationsList",a),t.setState({currentIdList:i}),t.setState({nominationsList:n})},t.onNominate=function(e,n,i){t.state.nominationsList.push({id:i,name:e,year:n}),t.state.currentIdList.push(i);var s=t.state.currentIdList.length>0;localStorage.setItem("visited",s),t.setState({visited:s});var a=JSON.stringify(t.state.currentIdList),r=JSON.stringify(t.state.nominationsList);localStorage.setItem("localcurrentIdList",a),localStorage.setItem("localnominationsList",r),t.setState({nominationsList:t.state.nominationsList}),t.setState({currentIdList:t.state.currentIdList}),t.setState({visited:!0}),console.log("ADDED",t.state.nominationsList,t.state.currentIdList)},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){if("true"===localStorage.getItem("visited")){var t=localStorage.getItem("localnominationsList"),e=localStorage.getItem("localcurrentIdList"),n=JSON.parse(t),i=JSON.parse(e);this.setState({nominationsList:n,currentIdList:i}),console.log("REFRESH",this.state.nominationsList,this.state.currentIdList)}}},{key:"render",value:function(){var t;return this.state.currentIdList.length>=5&&(t=Object(i.jsx)("div",{style:{color:"#11cbd7"},children:Object(i.jsx)("h1",{style:{color:"#fffff",fontWeight:"bold"},className:"text-center mt-2",children:"You have finished Nominations!"})})),Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)("h1",{style:{fontWeight:"bold"},className:"text-center mt-2",children:"The Shoppies"}),t,Object(i.jsxs)(u.a,{onSubmit:this.handleSubmit,children:[Object(i.jsxs)(u.a.Group,{children:[Object(i.jsx)(u.a.Label,{children:" Movie Title"}),Object(i.jsx)(u.a.Control,{type:"",placeholder:"Search for movie...",onChange:this.handleChange,value:this.state.searchField}),Object(i.jsx)(u.a.Text,{className:"text-muted"})]}),Object(i.jsx)(j.a,{variant:"primary",type:"submit",children:"Search"})]}),Object(i.jsx)(p,{onNominate:this.onNominate,searchedMovieList:this.state.searchedMovieList,currentIdList:this.state.currentIdList}),Object(i.jsx)(O,{onDelete:this.handleDelete,nominationsList:this.state.nominationsList})]})}}]),n}(s.Component),x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),s(t),a(t),r(t)}))};n(55),s.Component;o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("root")),x()}},[[56,1,2]]]);
//# sourceMappingURL=main.e6d4467a.chunk.js.map